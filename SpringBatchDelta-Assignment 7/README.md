This assignment is regarding creating a spring batch application which reads data from current and previous csv file and adding only the unique records from both the files to the delta file after validating those unique records using a processor.

The Batch configuration has been done in the BatchConfig class which is annotated with @Configuration and @EnableBatchProcessing. The @Configuration annotation helps us to define beans inside that class and that beans will also be referenced by the spring container.The @EnableBatchProcessing annotation 

The job has been configured with JobBuilderFactory object with three steps using StepBuilderFactory and the steps were mentioned below

step1: I created a reader(reader_previous) object which is a FlatFileItemReader object, which reads data from the previous CSV file.This reader object takes in a DefaultLineMapper object which helps in mapping each line of csv file to Student Class object. The mapper object takes in DelimitedLineTokenizer object for seperating the fields based on a delimiter and it also takes in BeanWrapperFieldMapper class object which maps the fields to the object attributes.The writer in this step is,Previous_Writer class which implements ItemWriter interface and adds all the objects to a HashMap with student id as key and student object as value.

step2:In this step, the reader object(reader_current) which is similar to reader object of the step 1, reads data from current csv file. This step has a processor, UniqueStudentProcessor class which implements ItemProcessor interface.In this processor, the object coming from the reader_current is validated whether these objects are already available in the map which is created in step 1. If an object is available in that map, the patricular object will not be passed onto the writer.The writer object(writer_delta) is created with FlatFileItemWriter object, which writes data to the delta.csv file which is in the class path.

step3: In this step, the data is read from delta.csv file through FlatFileItemReader object(reader_delta).Here, two writer objects(writer_success,writer_reject) are created, one for writing data to the success.csv file and another one for writing data to the reject.csv file.Based on a condition, the data needs to written in either success.csv file and reject.csv file. So, StudentClassifer class is created which implements Classifier interface, and based on student object marks the objects are classified and moved to either writer_success object or writer_reject object using a ternary operator.So, in this step, the writer() method takes CompositeItemWriterClassifer object through which the classifier object is specified.Eventhough, we used CompositeItemWriterClassifer object inside the writer() method, we need to open the access for the writer_success object and writer_reject object through stream() method.

finally, as a output we got success.csv file and reject.csv file.
